(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{235:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var s=r(5155),n=r(2115),a=r(489),i=r(3101),o=r(5016);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.b,{ref:t,className:(0,o.cn)(l(),r),...n})});c.displayName=a.b.displayName},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(2821),n=r(5889);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},6245:(e,t,r)=>{Promise.resolve().then(r.bind(r,9349))},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),n=r(2115),a=r(2467),i=r(3101),o=r(5016);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:r})),ref:t,...d})});c.displayName="Button"},8171:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var s=r(2115);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=[],l={toasts:[]};function c(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function d(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(l);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var s=r(5155),n=r(2115),a=r(131),i=r(9776),o=r(549),l=r(5653);let c=l.z.object({id:l.z.string(),title:l.z.string(),sourceUrl:l.z.string().nullable(),thumbnailUrl:l.z.string(),duration:l.z.number().nullable(),likes:l.z.number(),dislikes:l.z.number(),category:l.z.string().nullable(),iframe:l.z.string().nullable(),tags:l.z.string().nullable(),performers:l.z.string().nullable(),streamId:l.z.string().nullable(),createdAt:l.z.coerce.date(),updatedAt:l.z.coerce.date(),stream:l.z.object({id:l.z.string(),name:l.z.string(),source:l.z.string(),query:l.z.string(),lastPulled:l.z.coerce.date().nullable(),createdAt:l.z.coerce.date(),updatedAt:l.z.coerce.date()}).nullable()}),d=l.z.object({id:l.z.string(),name:l.z.string(),source:l.z.string(),query:l.z.string(),lastPulled:l.z.coerce.date().nullable(),createdAt:l.z.coerce.date(),updatedAt:l.z.coerce.date(),_count:l.z.object({videos:l.z.number()}).optional()}),u=l.z.object({title:l.z.string().min(1),sourceUrl:l.z.string().url().optional(),thumbnailUrl:l.z.string().url().optional(),duration:l.z.number().optional(),iframe:l.z.string().optional(),tags:l.z.string().optional(),performers:l.z.string().optional(),streamId:l.z.string().optional()}),h=l.z.object({name:l.z.string().min(1),source:l.z.string().min(1),query:l.z.string().min(1)}),p=l.z.object({videos:l.z.array(c),pagination:l.z.object({page:l.z.number(),limit:l.z.number(),total:l.z.number().optional(),pages:l.z.number().optional(),hasNextPage:l.z.boolean(),nextCursor:l.z.string().nullable().optional()})});l.z.object({message:l.z.string(),field:l.z.string().optional()}),l.z.object({message:l.z.string()}),l.z.object({message:l.z.string()});let m={videos:{list:{method:"GET",path:"/api/videos",input:l.z.object({page:l.z.coerce.number().optional(),limit:l.z.coerce.number().optional()}).optional(),responses:{200:p}},create:{method:"POST",path:"/api/videos",input:u,responses:{201:c}},seed:{method:"POST",path:"/api/videos/seed",responses:{201:l.z.object({message:l.z.string(),count:l.z.number()})}},clear:{method:"DELETE",path:"/api/videos/seed",responses:{200:l.z.object({message:l.z.string()})}}},streams:{list:{method:"GET",path:"/api/streams",responses:{200:l.z.array(d)}},create:{method:"POST",path:"/api/streams",input:h,responses:{201:d}}}};var x=r(5946),f=r(5299),g=r(7354),b=r(5921),v=r(3511),y=r(2332),w=r(2068),j=r(5130),N=r(1443),z=r(5016);let k=(0,n.memo)(function(e){var t;let{url:r,iframe:a,title:i,source:o,playing:l,muted:c,volume:d,onTogglePlay:u,onSkip10:h,isActive:p}=e,m=(0,n.useRef)(null),[k,P]=(0,n.useState)(!1),[S,T]=(0,n.useState)(0),[A,E]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{a&&P(!0)},[a]),(0,s.jsxs)(N.P.div,{className:(0,z.cn)("relative group w-full h-full bg-black rounded-xl overflow-hidden border-2 transition-all duration-300",p?"border-primary shadow-[0_0_20px_rgba(236,72,153,0.3)]":"border-border"),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[!k&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-zinc-900/50 z-10",children:(0,s.jsx)(f.A,{className:"w-10 h-10 text-primary animate-spin"})}),a?(0,s.jsx)("div",{className:"w-full h-full relative",children:(0,s.jsx)("iframe",{src:null==(t=a.match(/src="([^"]+)"/))?void 0:t[1],className:"w-full h-full absolute inset-0",frameBorder:"0",allowFullScreen:!0,title:"Video Player",sandbox:"allow-scripts allow-same-origin allow-forms"})}):(0,s.jsx)(x.A,{ref:m,src:r||"",width:"100%",height:"100%",playing:l,muted:c,volume:d,onReady:()=>P(!0),onTimeUpdate:e=>{let t=e.currentTarget;t.duration>0&&T(t.currentTime/t.duration*100)},className:"absolute top-0 left-0",style:{objectFit:"cover"},controls:!1,config:{youtube:{color:"white",rel:0,enablejsapi:1}}}),!a&&(0,s.jsxs)("div",{className:(0,z.cn)("absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/40 transition-opacity duration-300 flex flex-col justify-between p-4",A||!l?"opacity-100":"opacity-0"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded border border-primary/20 inline-block mb-1",children:o}),(0,s.jsx)("h3",{className:"text-sm font-bold text-white line-clamp-1 drop-shadow-md",children:i})]}),(0,s.jsx)("button",{className:"text-white/70 hover:text-white hover:bg-white/10 p-1.5 rounded-full transition-colors",children:(0,s.jsx)(g.A,{size:16})})]}),!l&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsx)(N.P.div,{initial:{scale:0},animate:{scale:1},className:"bg-primary/90 text-white p-4 rounded-full shadow-lg shadow-primary/20 backdrop-blur-sm pointer-events-auto cursor-pointer hover:scale-110 transition-transform",onClick:u,children:(0,s.jsx)(b.A,{fill:"currentColor",size:32})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-1 w-full bg-white/20 rounded-full overflow-hidden cursor-pointer hover:h-2 transition-all",children:(0,s.jsx)("div",{className:"h-full bg-primary shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:"".concat(S,"%")}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:u,className:"text-white hover:text-primary transition-colors p-1",children:l?(0,s.jsx)(v.A,{fill:"currentColor",size:20}):(0,s.jsx)(b.A,{fill:"currentColor",size:20})}),(0,s.jsxs)("button",{onClick:()=>{if(m.current){let e=m.current.getCurrentTime();m.current.seekTo(e+10,"seconds")}h()},className:"text-white hover:text-primary transition-colors p-1 flex items-center gap-0.5 group/skip",children:[(0,s.jsx)(y.A,{size:20}),(0,s.jsx)("span",{className:"text-[10px] font-mono opacity-0 group-hover/skip:opacity-100 transition-opacity",children:"+10s"})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:c?(0,s.jsx)(w.A,{size:18,className:"text-white/70"}):(0,s.jsx)(j.A,{size:18,className:"text-white/70"})})]})]})]})]})});var P=r(1456),S=r(8314),T=r(6121),A=r(7003),E=r(891);let M=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsxs)(E.bL,{ref:t,className:(0,z.cn)("relative flex w-full touch-none select-none items-center",r),...n,children:[(0,s.jsx)(E.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(E.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(E.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});M.displayName=E.bL.displayName;let C=(0,n.memo)(function(e){let{isPlayingAll:t,onPlayAll:r,onPauseAll:a,onNextBatch:i,onReset:o,onMuteAll:l,isMuted:c,onSkipAll:d,currentPage:u}=e,h=(0,n.useRef)(),p=(0,n.useCallback)(e=>()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>e(),50)},[]);return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/95 to-transparent z-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-zinc-900/80 backdrop-blur-xl border border-white/10 rounded-2xl p-4 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 min-w-[200px]",children:[(0,s.jsx)("div",{className:"bg-primary/20 p-2.5 rounded-xl border border-primary/20",children:(0,s.jsx)(P.A,{className:"text-primary w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-white font-bold text-sm tracking-wide font-display",children:"MULTI-VIEW"}),(0,s.jsxs)("p",{className:"text-zinc-400 text-xs font-mono",children:["BATCH #",u," • ACTIVE"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(A.$,{variant:"outline",size:"icon",onClick:p(o),className:"h-12 w-12 rounded-full border-white/10 hover:bg-white/5 hover:text-white bg-transparent",title:"Reset Simulation",children:(0,s.jsx)(S.A,{size:20})}),(0,s.jsx)("div",{className:"h-8 w-px bg-white/10 mx-2"}),(0,s.jsx)(A.$,{size:"lg",onClick:p(t?a:r),className:"\n                h-14 px-8 rounded-full text-lg font-bold tracking-wide shadow-lg shadow-primary/25 transition-all\n                ".concat(t?"bg-zinc-800 hover:bg-zinc-700 text-white border border-white/10":"bg-primary hover:bg-primary/90 text-white hover:scale-105","\n              "),children:t?(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{fill:"currentColor"})," PAUSE ALL"]}):(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{fill:"currentColor"})," PLAY ALL"]})}),(0,s.jsx)(A.$,{variant:"outline",size:"icon",onClick:p(d),className:"h-12 w-12 rounded-full border-white/10 hover:bg-white/5 hover:text-white bg-transparent",title:"Skip +10s (All)",children:(0,s.jsx)(T.A,{size:20})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 min-w-[200px] justify-end",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-black/40 rounded-full px-4 py-2 border border-white/5",children:[(0,s.jsx)("button",{onClick:()=>l(!c),className:"text-zinc-400 hover:text-white transition-colors",children:c?(0,s.jsx)(w.A,{size:18}):(0,s.jsx)(j.A,{size:18})}),(0,s.jsx)(M,{defaultValue:[75],max:100,step:1,className:"w-24"})]}),(0,s.jsx)(A.$,{onClick:p(i),className:"bg-white text-black hover:bg-zinc-200 font-bold rounded-xl px-6",children:"NEXT BATCH"})]})]})})})});var L=r(6651),I=r(5229),_=r(5740),D=r(3581);let R=n.forwardRef((e,t)=>{let{className:r,type:n,...a}=e;return(0,s.jsx)("input",{type:n,className:(0,z.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});R.displayName="Input";var O=r(1408),B=r(7805);let F=B.bL,G=B.l9,U=n.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:a=4,...i}=e;return(0,s.jsx)(B.ZL,{children:(0,s.jsx)(B.UC,{ref:t,align:n,sideOffset:a,className:(0,z.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r),...i})})});U.displayName=B.UC.displayName;var q=r(235);function $(e){let{onSearchChange:t,onFilterChange:r,gestureSearch:a}=e,[i,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a&&(o(a),t(a))},[a,t]);let m=e=>{o(e),t(e)},x=l||d;return(0,s.jsxs)("div",{className:"w-full mb-6",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(L.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(R,{type:"text",placeholder:"Search videos, tags, performers...",value:i,onChange:e=>m(e.target.value),className:"pl-10 pr-10 h-11 bg-background/50 backdrop-blur-sm border-border/50 focus:border-primary transition-all"}),i&&(0,s.jsx)("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:(0,s.jsx)(I.A,{className:"w-4 h-4"})}),a&&(0,s.jsx)(N.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute -right-2 -top-2 bg-primary rounded-full p-1",children:(0,s.jsx)(_.A,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)(F,{open:h,onOpenChange:p,children:[(0,s.jsx)(G,{asChild:!0,children:(0,s.jsxs)(A.$,{variant:x?"default":"outline",size:"icon",className:"h-11 w-11 relative",children:[(0,s.jsx)(D.A,{className:"w-4 h-4"}),x&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full border-2 border-background"})]})}),(0,s.jsx)(U,{className:"w-80",align:"end",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:"Filters"}),x&&(0,s.jsx)(A.$,{variant:"ghost",size:"sm",onClick:()=>{c(""),u(""),r({category:"",tags:""})},className:"h-auto p-1 text-xs",children:"Clear all"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(q.J,{htmlFor:"category",className:"text-xs",children:"Category"}),(0,s.jsx)(R,{id:"category",placeholder:"e.g., HD, 4K, Premium",value:l,onChange:e=>c(e.target.value),className:"mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(q.J,{htmlFor:"tags",className:"text-xs",children:"Tags"}),(0,s.jsx)(R,{id:"tags",placeholder:"e.g., featured, popular",value:d,onChange:e=>u(e.target.value),className:"mt-1.5"})]})]}),(0,s.jsx)(A.$,{onClick:()=>{r({category:l,tags:d}),p(!1)},className:"w-full",size:"sm",children:"Apply Filters"})]})})]})]}),(0,s.jsx)(O.N,{children:x&&(0,s.jsxs)(N.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex gap-2 mt-3 flex-wrap",children:[l&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:[(0,s.jsxs)("span",{children:["Category: ",l]}),(0,s.jsx)("button",{onClick:()=>{c(""),r({category:"",tags:d})},className:"hover:bg-primary/20 rounded-full p-0.5",children:(0,s.jsx)(I.A,{className:"w-3 h-3"})})]}),d&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:[(0,s.jsxs)("span",{children:["Tags: ",d]}),(0,s.jsx)("button",{onClick:()=>{u(""),r({category:l,tags:""})},className:"hover:bg-primary/20 rounded-full p-0.5",children:(0,s.jsx)(I.A,{className:"w-3 h-3"})})]})]})})]})}function Q(e){let{isDrawing:t,path:r,lastGesture:a,enabled:i}=e,[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)([]);if((0,n.useEffect)(()=>{if(!t&&r.length>0){h(r);let e=setTimeout(()=>h([]),300);return()=>clearTimeout(e)}},[t,r]),(0,n.useEffect)(()=>{if(a&&a.confidence>.5){l(!0),d(!1);let e=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(e)}},[a]),(0,n.useEffect)(()=>{if(i){d(!0);let e=setTimeout(()=>d(!1),5e3);return()=>clearTimeout(e)}},[i]),!i)return null;let p=t?r:u,m=t?1:.3;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"fixed inset-0 pointer-events-none z-[100]",style:{width:"100vw",height:"100vh"},children:[(0,s.jsx)(O.N,{children:p.length>1&&(0,s.jsx)(N.P.polyline,{initial:{opacity:0},animate:{opacity:m},exit:{opacity:0},transition:{duration:.2},points:p.map(e=>"".concat(e.x,",").concat(e.y)).join(" "),fill:"none",stroke:"rgba(236, 72, 153, 0.8)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 0 10px rgba(236, 72, 153, 0.8))"}},"gesture-path")}),t&&r.slice(-20).map((e,t)=>(0,s.jsx)("circle",{cx:e.x,cy:e.y,r:"3",fill:"rgba(236, 72, 153, 0.8)",style:{filter:"drop-shadow(0 0 4px rgba(236, 72, 153, 0.6))"}},"point-".concat(t)))]}),(0,s.jsx)(O.N,{children:o&&a&&(0,s.jsx)(N.P.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5},className:"fixed top-20 right-8 z-[100] pointer-events-none",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-primary/90 to-pink-600/90 backdrop-blur-sm text-white px-6 py-4 rounded-2xl shadow-2xl border border-white/20",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-4xl font-bold",children:["number"===a.type&&a.value,"letter"===a.type&&a.value,"symbol"===a.type&&function(e){switch(e){case"next":return"→";case"prev":return"←";case"search":return"\uD83D\uDD0D";default:return e}}(a.value)]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",children:function(e){if("number"===e.type)return"Number ".concat(e.value);if("letter"===e.type)return"Letter ".concat(e.value);if("symbol"===e.type)switch(e.value){case"next":return"Next Page";case"prev":return"Previous Page";case"search":return"Search";default:return e.value}return"Unknown"}(a)}),(0,s.jsxs)("div",{className:"text-xs opacity-75",children:[Math.round(100*a.confidence),"% confidence"]})]})]})})})}),(0,s.jsx)(O.N,{children:i&&(0,s.jsx)(N.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"fixed bottom-8 right-8 z-[100] pointer-events-none",children:(0,s.jsxs)("div",{className:"bg-black/70 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-primary/30 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t?"bg-green-400 animate-pulse":"bg-primary")}),(0,s.jsx)("span",{children:"Gesture Mode"})]})})}),(0,s.jsx)(O.N,{children:i&&c&&!t&&(0,s.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-24 right-8 z-[100] pointer-events-none max-w-xs",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-primary/90 to-pink-600/90 backdrop-blur-sm text-white px-4 py-3 rounded-xl shadow-2xl border border-white/20",children:[(0,s.jsx)("div",{className:"text-xs font-semibold mb-1",children:"\uD83D\uDCA1 Gesture Controls"}),(0,s.jsxs)("div",{className:"text-xs opacity-90",children:[(0,s.jsx)("strong",{children:"Right-click + drag"})," or ",(0,s.jsx)("strong",{children:"Shift + drag"})," to draw!",(0,s.jsx)("br",{}),"• Swipe right → Next page",(0,s.jsx)("br",{}),"• Swipe left → Previous page",(0,s.jsx)("br",{}),"• Draw circle → Search",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-[10px] opacity-75",children:"Release to recognize gesture"})]})]})})})]})}function V(e){let{enabled:t}=e,[r,a]=(0,n.useState)({x:0,y:0}),[i,o]=(0,n.useState)([]),l=(0,n.useRef)(0);return((0,n.useEffect)(()=>{if(!t)return void o([]);let e=e=>{let t=e.clientX,r=e.clientY;a({x:t,y:r}),o(e=>[...e,{x:t,y:r,id:l.current++}].slice(-15))};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[t]),(0,n.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{o(e=>{let t=Date.now();return e.filter(e=>t-e.id<500)})},50);return()=>clearInterval(e)},[t]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-[60]",children:[(0,s.jsx)(N.P.div,{className:"fixed w-6 h-6 -ml-3 -mt-3",style:{left:r.x,top:r.y},animate:{left:r.x,top:r.y},transition:{type:"spring",damping:30,stiffness:200,mass:.5},children:(0,s.jsx)("div",{className:"w-full h-full rounded-full bg-primary/40 border-2 border-primary animate-pulse"})}),i.map((e,t)=>{let r=Math.max(0,1-(Date.now()-e.id)/500),n=.3+t/i.length*.7;return(0,s.jsx)(N.P.div,{className:"absolute w-4 h-4 -ml-2 -mt-2 rounded-full bg-primary/30",style:{left:e.x,top:e.y,opacity:r,scale:n},initial:{opacity:1,scale:1},animate:{opacity:0,scale:0},transition:{duration:.5}},e.id)}),(0,s.jsx)(N.P.div,{className:"fixed w-10 h-10 -ml-5 -mt-5 rounded-full border border-primary/20",style:{left:r.x,top:r.y},animate:{left:r.x,top:r.y,scale:[1,1.2,1]},transition:{left:{type:"spring",damping:20,stiffness:200},top:{type:"spring",damping:20,stiffness:200},scale:{repeat:1/0,duration:2}}})]}):null}class X{initializeTemplates(){this.templates=[{name:"0",points:this.generateCirclePoints(8)},{name:"1",points:this.generateLinePoints(0,0,0,100,8)},{name:"2",points:this.generateSCurvePoints(8)},{name:"3",points:this.generateBackwardsSCurvePoints(8)},{name:"4",points:this.generateLShapePoints(8)},{name:"5",points:this.generateBackwardsLShapePoints(8)},{name:"6",points:this.generateQuestionMarkPoints(8)},{name:"7",points:this.generateLinePoints(0,100,100,0,8)},{name:"8",points:this.generateInfinityPoints(8)},{name:"9",points:this.generateBackwardsQuestionMarkPoints(8)},{name:"circle",points:this.generateCirclePoints(12)},{name:"square",points:this.generateSquarePoints(8)},{name:"triangle",points:this.generateTrianglePoints(6)},{name:"check",points:this.generateCheckMarkPoints(6)},{name:"x",points:this.generateXPoints(8)},{name:"arrow_right",points:this.generateArrowRightPoints(8)},{name:"arrow_left",points:this.generateArrowLeftPoints(8)},{name:"arrow_up",points:this.generateArrowUpPoints(8)},{name:"arrow_down",points:this.generateArrowDownPoints(8)}]}async recognize(e){if(e.length<8)return{gesture:"unknown",confidence:0};try{let t=this.resample(e,64),r=this.rotateToZero(t),s=this.scaleToSquare(r),n=this.translateToOrigin(s),a=1/0,i="unknown";for(let e of this.templates){let t=this.distanceAtBestAngle(n,e.points);t<a&&(a=t,i=e.name)}let o=Math.max(0,Math.min(1,1-a/2));if(o<.3){let t=this.getDirection(e);if("none"!==t)return{gesture:({right:"next",left:"prev",up:"arrow_up",down:"arrow_down"})[t],confidence:.7}}return{gesture:i,confidence:o}}catch(r){console.warn("Gesture recognition failed, using direction fallback:",r);let t=this.getDirection(e);if("none"!==t)return{gesture:({right:"next",left:"prev",up:"arrow_up",down:"arrow_down"})[t],confidence:.6};return{gesture:"unknown",confidence:0}}}async pathToImage(e){let t=document.createElement("canvas");t.width=224,t.height=224;let r=t.getContext("2d");if(!r)throw Error("Could not get canvas context");r.fillStyle="white",r.fillRect(0,0,224,224);let s=Math.min(...e.map(e=>e.x)),n=Math.max(...e.map(e=>e.x)),a=Math.min(...e.map(e=>e.y)),i=Math.max(...e.map(e=>e.y)),o=Math.min(180/(n-s||1),180/(i-a||1)),l=(224-(n-s)*o)/2,c=(224-(i-a)*o)/2;r.strokeStyle="black",r.lineWidth=6,r.lineCap="round",r.lineJoin="round",r.beginPath();let d=e.map(e=>({x:l+(e.x-s)*o,y:c+(e.y-a)*o}));if(d.length>0){r.moveTo(d[0].x,d[0].y);for(let e=1;e<d.length;e++)r.lineTo(d[e].x,d[e].y)}return r.stroke(),t}async canvasToBlob(e){return new Promise((t,r)=>{e.toBlob(e=>{e?t(e):r(Error("Failed to create blob"))},"image/jpeg",.9)})}async blobToBase64(e){return new Promise((t,r)=>{let s=new FileReader;s.onload=()=>t(s.result),s.onerror=r,s.readAsDataURL(e)})}resample(e,t){let r=this.pathLength(e)/(t-1),s=0,n=[e[0]];for(let t=1;t<e.length;t++){let a=this.distance(e[t-1],e[t]);if(s+a>=r){let i={x:e[t-1].x+(r-s)/a*(e[t].x-e[t-1].x),y:e[t-1].y+(r-s)/a*(e[t].y-e[t-1].y)};n.push(i),e.splice(t,0,i),s=0}else s+=a}for(;n.length<t;)n.push(e[e.length-1]);return n.slice(0,t)}rotateToZero(e){let t=this.centroid(e),r=Math.atan2(t.y-e[0].y,t.x-e[0].x);return this.rotateBy(e,-r)}scaleToSquare(e){let t=this.boundingBox(e),r=Math.max(t.width,t.height),s=[];for(let t of e)s.push({x:t.x*(100/r),y:t.y*(100/r)});return s}translateToOrigin(e){let t=this.centroid(e),r=[];for(let s of e)r.push({x:s.x-t.x,y:s.y-t.y});return r}distanceAtBestAngle(e,t){let r=-Math.PI/4,s=Math.PI/4,n=Math.PI/90,a=1/0;for(let i=r;i<=s;i+=n){let r=this.rotateBy(e,i),s=this.pathDistance(r,t);s<a&&(a=s)}return a}pathLength(e){let t=0;for(let r=1;r<e.length;r++)t+=this.distance(e[r-1],e[r]);return t}distance(e,t){let r=e.x-t.x,s=e.y-t.y;return Math.sqrt(r*r+s*s)}centroid(e){let t=0,r=0;for(let s of e)t+=s.x,r+=s.y;return{x:t/e.length,y:r/e.length}}rotateBy(e,t){let r=Math.cos(t),s=Math.sin(t),n=this.centroid(e),a=[];for(let t of e){let e=t.x-n.x,i=t.y-n.y;a.push({x:e*r-i*s+n.x,y:e*s+i*r+n.y})}return a}boundingBox(e){let t=1/0,r=-1/0,s=1/0,n=-1/0;for(let a of e)t=Math.min(t,a.x),r=Math.max(r,a.x),s=Math.min(s,a.y),n=Math.max(n,a.y);return{width:r-t,height:n-s}}pathDistance(e,t){let r=0;for(let s=0;s<Math.min(e.length,t.length);s++)r+=this.distance(e[s],t[s]);return r/Math.min(e.length,t.length)}getDirection(e){if(e.length<5)return"none";let t=e[0],r=e[e.length-1],s=r.x-t.x,n=r.y-t.y,a=Math.abs(s),i=Math.abs(n);return a<30&&i<30?"none":a>i?s>0?"right":"left":n>0?"down":"up"}generateCirclePoints(e){let t=[];for(let r=0;r<e;r++){let s=r/e*2*Math.PI;t.push({x:50+40*Math.cos(s),y:50+40*Math.sin(s)})}return t}generateLinePoints(e,t,r,s,n){let a=[];for(let i=0;i<n;i++){let o=i/(n-1);a.push({x:e+o*(r-e),y:t+o*(s-t)})}return a}generateSCurvePoints(e){let t=[];for(let r=0;r<e;r++){let s=r/(e-1),n=100*s,a=50+30*Math.sin(s*Math.PI);t.push({x:n,y:a})}return t}generateBackwardsSCurvePoints(e){let t=[];for(let r=0;r<e;r++){let s=r/(e-1),n=100*s,a=50-30*Math.sin(s*Math.PI);t.push({x:n,y:a})}return t}generateLShapePoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:20,y:20+r/(e/2-1)*60});for(let r=0;r<e/2;r++)t.push({x:20+r/(e/2-1)*60,y:80});return t}generateBackwardsLShapePoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:20+r/(e/2-1)*60,y:20});for(let r=0;r<e/2;r++)t.push({x:80,y:20+r/(e/2-1)*60});return t}generateQuestionMarkPoints(e){let t=[];for(let r=0;r<e/3;r++){let s=r/(e/3-1)*Math.PI;t.push({x:50+15*Math.cos(s),y:30+15*Math.sin(s)})}for(let r=0;r<e/3;r++)t.push({x:50,y:45+r/(e/3-1)*25});for(let r=0;r<e/3;r++)t.push({x:50,y:75});return t}generateBackwardsQuestionMarkPoints(e){let t=[];for(let r=0;r<e/3;r++){let s=Math.PI-r/(e/3-1)*Math.PI;t.push({x:50+15*Math.cos(s),y:30+15*Math.sin(s)})}for(let r=0;r<e/3;r++)t.push({x:50,y:45+r/(e/3-1)*25});for(let r=0;r<e/3;r++)t.push({x:50,y:75});return t}generateInfinityPoints(e){let t=[];for(let r=0;r<e;r++){let s=r/(e-1)*2*Math.PI,n=50+25*Math.cos(s),a=50+15*Math.sin(2*s);t.push({x:n,y:a})}return t}generateSquarePoints(e){let t=[],r=e/4;for(let e=0;e<r;e++)t.push({x:20+e/(r-1)*60,y:20});for(let e=0;e<r;e++)t.push({x:80,y:20+e/(r-1)*60});for(let e=0;e<r;e++)t.push({x:80-e/(r-1)*60,y:80});for(let e=0;e<r;e++)t.push({x:20,y:80-e/(r-1)*60});return t}generateTrianglePoints(e){let t=[];for(let r=0;r<e/3;r++)t.push({x:20+r/(e/3-1)*60,y:80-r/(e/3-1)*30});for(let r=0;r<e/3;r++)t.push({x:80-r/(e/3-1)*30,y:50+r/(e/3-1)*30});for(let r=0;r<e/3;r++)t.push({x:50-r/(e/3-1)*30,y:50-r/(e/3-1)*30});return t}generateCheckMarkPoints(e){let t=[];for(let r=0;r<e/2;r++){let s=r/(e/2-1);t.push({x:20+30*s,y:50+20*s})}for(let r=0;r<e/2;r++){let s=r/(e/2-1);t.push({x:50+30*s,y:70-40*s})}return t}generateXPoints(e){let t=[];for(let r=0;r<e/2;r++){let s=r/(e/2-1);t.push({x:20+60*s,y:20+60*s})}for(let r=0;r<e/2;r++){let s=r/(e/2-1);t.push({x:80-60*s,y:20+60*s})}return t}generateArrowRightPoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:20+r/(e/2-1)*40,y:50});return t.push({x:60,y:35}),t.push({x:80,y:50}),t.push({x:60,y:65}),t}generateArrowLeftPoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:80-r/(e/2-1)*40,y:50});return t.push({x:40,y:35}),t.push({x:20,y:50}),t.push({x:40,y:65}),t}generateArrowUpPoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:50,y:80-r/(e/2-1)*40});return t.push({x:35,y:40}),t.push({x:50,y:20}),t.push({x:65,y:40}),t}generateArrowDownPoints(e){let t=[];for(let r=0;r<e/2;r++)t.push({x:50,y:20+r/(e/2-1)*40});return t.push({x:35,y:60}),t.push({x:50,y:80}),t.push({x:65,y:60}),t}constructor(){this.templates=[],this.initializeTemplates()}}let K=null;var J=r(6132),W=r(6154),Y=r(8171);function Z(){let[e,t]=(0,n.useState)(1),[r,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(),{data:p,isLoading:x,isError:g,refetch:b,error:v}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.I)({queryKey:[m.videos.list.path,{page:e,limit:t,...r}],queryFn:async()=>{let s=new URLSearchParams({page:e.toString(),limit:t.toString()});r.search&&s.append("search",r.search),r.category&&s.append("category",r.category),r.tags&&s.append("tags",r.tags);let n="".concat(m.videos.list.path,"?").concat(s.toString()),a=await fetch(n,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch videos");return m.videos.list.responses[200].parse(await a.json())},placeholderData:e=>e})}(e,4,r),{mutate:y,isPending:w}=function(){let e=(0,i.jE)();return(0,o.n)({mutationFn:async()=>{let e=await fetch(m.videos.seed.path,{method:m.videos.seed.method,credentials:"include"});if(!e.ok)throw Error("Failed to seed videos");return await e.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[m.videos.list.path]})}})}(),{mutate:j}=function(){let e=(0,i.jE)();return(0,o.n)({mutationFn:async()=>{let e=await fetch(m.videos.clear.path,{method:"DELETE",credentials:"include"});if(!e.ok)throw Error("Failed to clear videos");return await e.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[m.videos.list.path]})}})}(),{toast:N}=(0,Y.dj)(),[z,k]=(0,n.useState)(!1),[P,S]=(0,n.useState)(!0),{isDrawing:T,path:E,lastGesture:M,clearGesture:L}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{enabled:t=!0,minPoints:r=8,gestureTimeout:s=600,onGestureRecognized:a,actions:i=[]}=e,[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(null),p=(0,n.useRef)(null),m=(0,n.useRef)(!1),x=(0,n.useRef)(!1),f=(0,n.useRef)(null),g=(0,n.useRef)((K||(K=new X),K)),b=e=>{var t,r;let s="touches"in e?null==(t=e.touches[0])?void 0:t.clientX:e.clientX,n="touches"in e?null==(r=e.touches[0])?void 0:r.clientY:e.clientY;return void 0===s||void 0===n?null:{x:s,y:n}},v=(0,n.useCallback)(()=>{h(null),l(!1),d([])},[]),y=(0,n.useCallback)(async e=>{if(e.length<r)return{type:"unknown",value:"",confidence:0};let t=g.current;try{let{gesture:r,confidence:s}=await t.recognize(e);if(s>=.3){let e={arrow_right:"next",arrow_left:"prev",circle:"search"}[r]||r;return{type:/^[0-9]$/.test(r)?"number":/^[a-zA-Z]$/.test(r)?"letter":["circle","check","x","arrow_right","arrow_left","arrow_up","arrow_down","triangle","square","star","search","next","prev"].includes(r)?"symbol":"unknown",value:e,confidence:s}}let n=t.getDirection(e);if("none"!==n)return{type:"symbol",value:({right:"next",left:"prev",up:"arrow_up",down:"arrow_down"})[n]||n,confidence:.7};return{type:"unknown",value:"",confidence:0}}catch(e){return console.warn("Gesture recognition error:",e),{type:"unknown",value:"",confidence:0}}},[r]),w=(0,n.useCallback)(async()=>{d(e=>e.length<r?(l(!1),[]):(y(e).then(e=>(e.confidence>.25&&e.value&&(h(e),setTimeout(()=>{null==a||a(e);let t=i.find(t=>t.gesture===e.value);t&&t.action()},0)),l(!1),[])).catch(e=>{console.warn("Gesture recognition error:",e),l(!1)}),e))},[r,y,a,i]);return(0,n.useEffect)(()=>{if(!t)return;let e=e=>{"Shift"!==e.key||m.current||(m.current=!0)},r=e=>{"Shift"===e.key&&(m.current=!1,o&&w())};return window.addEventListener("keydown",e),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}},[t,o,w]),(0,n.useEffect)(()=>{if(!t)return;let e=e=>{if(2===e.button){e.preventDefault(),x.current=!0;let t=b(e);t&&(l(!0),d([t]))}else if(e.shiftKey){let t=b(e);t&&(l(!0),d([t]))}},r=e=>{if(!o||!x.current&&!m.current)return;let t=b(e);t&&(p.current&&clearTimeout(p.current),d(e=>{if(0===e.length)return[t];let r=e[e.length-1];return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))>=3?[...e,t]:e}),p.current=setTimeout(()=>{w()},s))},n=e=>{2===e.button?(x.current=!1,o&&w()):!m.current&&o&&w()},a=e=>{(x.current||o)&&e.preventDefault()},i=e=>{if(2===e.touches.length){e.preventDefault();let t=b(e);t&&(l(!0),d([t]))}},c=e=>{if(!o)return;e.preventDefault();let t=b(e);t&&(p.current&&clearTimeout(p.current),d(e=>[...e,t]),p.current=setTimeout(()=>{w()},s))},u=()=>{o&&w()};return window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("mousemove",r,{passive:!0,capture:!0}),window.addEventListener("mouseup",n,{passive:!0,capture:!0}),window.addEventListener("contextmenu",a,{capture:!0}),window.addEventListener("touchstart",i,{passive:!1,capture:!0}),window.addEventListener("touchmove",c,{passive:!1,capture:!0}),window.addEventListener("touchend",u,{capture:!0}),()=>{window.removeEventListener("mousedown",e,{capture:!0}),window.removeEventListener("mousemove",r,{capture:!0}),window.removeEventListener("mouseup",n,{capture:!0}),window.removeEventListener("contextmenu",a,{capture:!0}),window.removeEventListener("touchstart",i,{capture:!0}),window.removeEventListener("touchmove",c,{capture:!0}),window.removeEventListener("touchend",u,{capture:!0}),p.current&&clearTimeout(p.current)}},[t,o,s,w]),{isDrawing:o,path:c,lastGesture:u,clearGesture:v,canvasRef:f}}({enabled:c,onGestureRecognized:(0,n.useCallback)(e=>{console.log("Gesture recognized:",e),setTimeout(()=>{N({title:"Gesture: ".concat(e.value),description:"Recognized with ".concat(Math.round(100*e.confidence),"% confidence"),duration:2e3})},0)},[N]),actions:[{gesture:"2",action:()=>{setTimeout(()=>{t(e=>e+1),N({title:"Next Batch",description:"Moving to next page"})},0)},description:"Next batch"},{gesture:"1",action:()=>{setTimeout(()=>{t(e=>Math.max(1,e-1)),N({title:"Previous Batch",description:"Moving to previous page"})},0)},description:"Previous batch"},{gesture:"search",action:()=>{setTimeout(()=>{h("");let e=document.querySelector('input[placeholder*="Search"]');null==e||e.focus(),N({title:"Search",description:"Search activated"})},0)},description:"Activate search"},{gesture:"next",action:()=>{setTimeout(()=>t(e=>e+1),0)},description:"Next page"},{gesture:"prev",action:()=>{setTimeout(()=>t(e=>Math.max(1,e-1)),0)},description:"Previous page"}]}),I=(0,n.useRef)({}),_=(0,n.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;I.current[e]&&clearTimeout(I.current[e]),I.current[e]=setTimeout(t,r)},[]),D=(0,n.useCallback)(()=>{_("next-batch",()=>{t(e=>e+1),k(!0)},200)},[_]),R=(0,n.useCallback)(()=>{_("skip-all",()=>{document.dispatchEvent(new CustomEvent("global-skip")),N({title:"Skipped 10s",description:"Fast-forwarded all active streams.",duration:1e3})},200)},[_,N]);if(x)return(0,s.jsxs)("div",{className:"h-screen w-screen bg-background flex flex-col items-center justify-center gap-4",children:[(0,s.jsx)(f.A,{className:"w-12 h-12 text-primary animate-spin"}),(0,s.jsx)("p",{className:"text-zinc-500 font-mono animate-pulse",children:"ESTABLISHING UPLINK..."})]});if(g)return(0,s.jsxs)("div",{className:"h-screen w-screen bg-background flex flex-col items-center justify-center gap-4 text-destructive",children:[(0,s.jsx)(J.A,{className:"w-12 h-12"}),(0,s.jsx)("p",{className:"font-mono",children:"CONNECTION FAILURE"}),v instanceof Error&&(0,s.jsx)("p",{className:"text-xs text-zinc-500 max-w-md text-center",children:v.message}),(0,s.jsx)("button",{onClick:()=>b(),className:"text-white bg-zinc-800 px-4 py-2 rounded-md hover:bg-zinc-700",children:"RETRY"})]});let B=(null==p?void 0:p.videos)||[];return(0,s.jsxs)("div",{className:"min-h-screen bg-background text-foreground pb-32 overflow-x-hidden relative scanlines",children:[(0,s.jsx)(V,{enabled:c}),(0,s.jsx)(Q,{isDrawing:T,path:E,lastGesture:M,enabled:c}),(0,s.jsx)("div",{className:"fixed top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-accent to-primary opacity-50 z-50"}),(0,s.jsx)("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-zinc-900 via-background to-background pointer-events-none -z-10"}),(0,s.jsxs)("main",{className:"max-w-[1800px] mx-auto p-4 md:p-6 lg:p-8 h-full",children:[(0,s.jsx)("div",{className:"mb-6 flex justify-between items-center gap-4",children:(0,s.jsx)("div",{className:"flex gap-2"})}),(0,s.jsxs)("div",{className:"mb-6 flex justify-between items-center gap-4",children:[(0,s.jsx)($,{onSearchChange:e=>{l(t=>({...t,search:e})),t(1)},onFilterChange:e=>{l(t=>({...t,...e})),t(1)},gestureSearch:u}),(0,s.jsxs)(A.$,{variant:c?"default":"outline",size:"sm",onClick:()=>{d(!c),N({title:c?"Gesture Mode Disabled":"Gesture Mode Enabled",description:c?"Gesture recognition disabled":"Just move your mouse to draw! Pause to recognize the gesture.",duration:3e3})},className:"gap-2",children:[(0,s.jsx)(W.A,{className:"w-4 h-4"}),c?"Gesture Mode ON":"Enable Gestures"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 aspect-[4/3] md:aspect-[16/9] lg:aspect-[21/9]",children:(0,s.jsx)(O.N,{mode:"popLayout",children:B.length>0?B.map((t,r)=>(0,s.jsx)(H,{video:t,isPlaying:z,isMuted:P,index:r},"".concat(t.id,"-").concat(e))):(0,s.jsxs)("div",{className:"col-span-full h-96 flex flex-col items-center justify-center border-2 border-dashed border-zinc-800 rounded-2xl bg-zinc-900/30",children:[(0,s.jsx)("p",{className:"text-zinc-500 mb-4 font-mono",children:"NO SIGNAL DETECTED. AWAITING INPUT."}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)(A.$,{onClick:()=>y(),disabled:w,className:"bg-primary hover:bg-primary/90",children:w?"INITIALIZING...":"RESTORE DEFAULTS"})})]})})})]}),(0,s.jsx)(C,{currentPage:e,isPlayingAll:z,isMuted:P,onPlayAll:()=>k(!0),onPauseAll:()=>k(!1),onNextBatch:D,onReset:()=>{k(!1),t(1),b()},onMuteAll:S,onSkipAll:R})]})}let H=(0,n.forwardRef)((e,t)=>{var r;let{video:n,isPlaying:a,isMuted:i,index:o}=e;return(0,s.jsx)(N.P.div,{ref:t,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.1*o},className:"w-full h-full min-h-[300px] md:min-h-[auto]",children:(0,s.jsx)(k,{url:n.sourceUrl||void 0,iframe:n.iframe||void 0,title:n.title,source:(null==(r=n.stream)?void 0:r.name)||"Manual",playing:a,muted:i,volume:.8,onTogglePlay:()=>{},onSkip10:()=>{},isActive:a})})});H.displayName="VideoPlayerWrapper"}},e=>{e.O(0,[831,647,962,441,255,358],()=>e(e.s=6245)),_N_E=e.O()}]);